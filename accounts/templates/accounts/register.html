{% extends 'base.html' %}
{% load form_tags %}

{% block content %}
<div class="container" style="max-width:500px; margin:50px auto;">
  <div class="card" style="padding:30px; background:#fff; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1);">

    <h2 style="text-align:center; font-size:28px; margin-bottom:25px;">
      ğŸ“ <span style="color:#333;">Create Your Account</span>
    </h2>

    {% if form.non_field_errors %}
      <div style="background:#ffe6e6; border:1px solid #e74c3c; padding:10px; border-radius:6px; margin-bottom:20px;">
        {% for err in form.non_field_errors %}
          â— {{ err }}<br>
        {% endfor %}
      </div>
    {% endif %}

    {% if form.errors %}
      <div style="background:#ffe6e6; border:1px solid #e74c3c; padding:10px; border-radius:6px; margin-bottom:20px;">
        â— <strong>{{ form.errors|length }} error{{ form.errors|length|pluralize }} found:</strong>
        Please fix the highlighted fields.
      </div>
    {% endif %}

    <form method="post" action="{% url 'accounts:register' %}" style="display:flex; flex-direction:column; gap:20px;">
      {% csrf_token %}

      {{ form.username
         | label_with_icon:"ğŸ‘¤"
         | add_class:"form-input"
         | add_placeholder:"Your username"
         | add_attr:"required"
      }}
      {{ form.username.errors }}

      {{ form.email
         | label_with_icon:"ğŸ“§"
         | add_class:"form-input"
         | add_placeholder:"Your email address"
         | add_attr:"required"
      }}
      {{ form.email.errors }}

      {{ form.password1
         | label_with_icon:"ğŸ”‘"
         | add_class:"form-input"
         | add_placeholder:"Create a password"
         | add_attr:"required"
      }}
      {{ form.password1.errors }}

      {{ form.password2
         | label_with_icon:"ğŸ”"
         | add_class:"form-input"
         | add_placeholder:"Repeat the password"
         | add_attr:"required"
      }}
      {{ form.password2.errors }}

      <button type="submit"
              style="background:#28a745; color:#fff; padding:12px 20px; border:none; border-radius:6px; font-size:16px; font-weight:bold; cursor:pointer;">
        âœ… Register
      </button>
    </form>

    <p style="text-align:center; margin-top:25px;">
      Already have an account?
      <a href="{% url 'accounts:login' %}" style="color:#007BFF; font-weight:500;">ğŸ” Login</a>
    </p>
  </div>
</div>
{% endblock %}

