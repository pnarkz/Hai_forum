<script>
  // DOM elementleri
  const sidebarToggle = document.getElementById('sidebarToggle');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('sidebarOverlay');
  const sidebarCollapseBtn = document.getElementById('sidebarCollapseBtn');
  const sidebarCloseBtn = document.getElementById('sidebarCloseBtn');
  
  // Console log for debugging
  //console.log('🚀 Forum Base Loaded - Modern Sidebar System');
  
  // Sidebar açma/kapama fonksiyonları
  function openSidebar() {
    if (sidebar && overlay) {
      sidebar.classList.remove('-translate-x-full');
      overlay.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
  }
  
  function closeSidebar() {
    if (sidebar && overlay) {
      sidebar.classList.add('-translate-x-full');
      overlay.classList.add('hidden');
      document.body.style.overflow = '';
    }
  }
  
  function toggleSidebar() {
    if (sidebar) {
      if (sidebar.classList.contains('-translate-x-full')) {
        openSidebar();
      } else {
        closeSidebar();
      }
    }
  }
  
  // Desktop sidebar daraltma
  function toggleSidebarCollapse() {
    if (sidebar && sidebarCollapseBtn) {
      sidebar.classList.toggle('collapsed');
      const icon = sidebarCollapseBtn.querySelector('i');
      if (icon) {
        if (sidebar.classList.contains('collapsed')) {
          icon.className = 'fas fa-chevron-right text-blue-600';
        } else {
          icon.className = 'fas fa-chevron-left text-blue-600';
        }
      }
    }
  }
  
  // Kategori açma/kapama
  function toggleCategory(button, targetId) {
    const target = document.getElementById(targetId);
    const icon = button.querySelector('i.fa-chevron-down');
    
    if (target && icon) {
      button.classList.toggle('collapsed');
      target.classList.toggle('collapsed');
      
      if (target.classList.contains('collapsed')) {
        icon.style.transform = 'rotate(-90deg)';
      } else {
        icon.style.transform = 'rotate(0deg)';
      }
    }
  }
  
  // Sidebar hover efektleri
  function initializeSidebarHoverEffects() {
    //console.log('🎯 Modern Sidebar hover efektleri başlatılıyor...');
    
    const sidebarLinks = document.querySelectorAll('.sidebar-link');
    //console.log(`📋 ${sidebarLinks.length} sidebar link bulundu`);
    
    sidebarLinks.forEach((link, index) => {
      // Her link için hover event'leri ekle
      link.addEventListener('mouseenter', function(e) {
        //console.log(`🖱️ Link ${index + 1} hover başladı:`, this.textContent.trim());
        
        // Force CSS properties with JavaScript
        this.style.setProperty('transform', 'translateX(15px)', 'important');
        this.style.setProperty('background', 'linear-gradient(135deg, rgba(59, 113, 151, 0.12), rgba(116, 189, 224, 0.12))', 'important');
        this.style.setProperty('color', '#3b7197', 'important');
        this.style.setProperty('box-shadow', '0 6px 20px rgba(59, 113, 151, 0.2)', 'important');
        this.style.setProperty('border-left', '4px solid #4a8db7', 'important');
        
        // Icon efekti
        const icon = this.querySelector('i');
        if (icon) {
          icon.style.setProperty('transform', 'scale(1.3) rotate(5deg)', 'important');
          icon.style.setProperty('color', '#4a8db7', 'important');
          //console.log(`🎨 Icon ${index + 1} efekt uygulandı`);
        }
        
        // Text efekti
        const text = this.querySelector('.sidebar-text');
        if (text) {
          text.style.setProperty('font-weight', '600', 'important');
          text.style.setProperty('color', '#3b7197', 'important');
          //console.log(`📝 Text ${index + 1} efekt uygulandı`);
        }
      });
      
      link.addEventListener('mouseleave', function(e) {
        //console.log(`🖱️ Link ${index + 1} hover bitti`);
        
        // Reset all styles
        if (!this.classList.contains('active')) {
          this.style.removeProperty('transform');
          this.style.removeProperty('background');
          this.style.removeProperty('color');
          this.style.removeProperty('box-shadow');
          this.style.removeProperty('border-left');
          
          // Reset icon
          const icon = this.querySelector('i');
          if (icon) {
            icon.style.removeProperty('transform');
            icon.style.removeProperty('color');
          }
          
          // Reset text
          const text = this.querySelector('.sidebar-text');
          if (text) {
            text.style.removeProperty('font-weight');
            text.style.removeProperty('color');
          }
        }
      });
      
      // Click event ile test
      link.addEventListener('click', function(e) {
        //console.log(`🔗 Link ${index + 1} tıklandı:`, this.href);
      });
      
      // Focus events
      link.addEventListener('focus', function(e) {
        //console.log(`🎯 Link ${index + 1} focus aldı`);
        this.dispatchEvent(new Event('mouseenter'));
      });
      
      link.addEventListener('blur', function(e) {
        //console.log(`🎯 Link ${index + 1} focus kaybetti`);
        this.dispatchEvent(new Event('mouseleave'));
      });
    });
    
    // Stat items hover effects
    const statItems = document.querySelectorAll('.stat-item');
    statItems.forEach((item, index) => {
      item.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.02)';
        this.style.background = 'rgba(59, 113, 151, 0.05)';
      });
    });
    
    //console.log('✅ Modern Sidebar hover efektleri başarıyla yüklendi!');
  }
  
  // Event listener'ları ekle
  if (sidebarToggle) {
    sidebarToggle.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      toggleSidebar();
    });
  }
  
  if (sidebarCloseBtn) {
    sidebarCloseBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      closeSidebar();
    });
  }
  
  if (overlay) {
    overlay.addEventListener('click', closeSidebar);
  }
  
  if (sidebarCollapseBtn) {
    sidebarCollapseBtn.addEventListener('click', (e) => {
      e.preventDefault();
      toggleSidebarCollapse();
    });
  }
  
  // Kategori toggle butonları
  document.querySelectorAll('.category-toggle').forEach(button => {
    button.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('data-target');
      if (targetId) {
        toggleCategory(this, targetId);
      }
    });
  });
  
  // Dışarı tıklama ile kapatma (sadece mobil)
  document.addEventListener('click', function(event) {
    if (window.innerWidth < 768 && sidebar && overlay) {
      const isClickInsideSidebar = sidebar.contains(event.target);
      const isClickOnToggle = sidebarToggle && sidebarToggle.contains(event.target);
      const isClickOnCloseBtn = sidebarCloseBtn && sidebarCloseBtn.contains(event.target);
      
      if (!isClickInsideSidebar && !isClickOnToggle && !isClickOnCloseBtn && !sidebar.classList.contains('-translate-x-full')) {
        closeSidebar();
      }
    }
  });
  
  // Pencere boyutu değişimini dinle
  window.addEventListener('resize', function() {
    if (window.innerWidth >= 768 && overlay) {
      overlay.classList.add('hidden');
      document.body.style.overflow = '';
    }
  });
  
  // ESC tuşu ile kapatma
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' && sidebar && !sidebar.classList.contains('-translate-x-full')) {
      closeSidebar();
    }
  });
  
  // Scrollbar smooth scroll behavior
  function initSmoothScroll() {
    const scrollableContent = sidebar?.querySelector('.custom-scrollbar');
    if (scrollableContent) {
      scrollableContent.style.scrollBehavior = 'smooth';
      //console.log('✅ Sidebar smooth scroll aktif');
    }
  }
  
  // Real-time notification updates (mock)
  function updateNotificationBadges() {
    const badges = document.querySelectorAll('.notification-badge');
    badges.forEach(badge => {
      // Simulated real-time updates
      const currentValue = parseInt(badge.textContent);
      if (Math.random() > 0.95) { // %5 chance to update
        badge.textContent = currentValue + 1;
        badge.style.animation = 'none';
        setTimeout(() => {
          badge.style.animation = 'pulse-glow 2s ease-in-out infinite';
        }, 10);
      }
    });
  }
  
  // DOM yüklendiğinde hover efektlerini başlat
  document.addEventListener('DOMContentLoaded', function() {
    //console.log('🌟 DOM yüklendi - Modern Sidebar başlatılıyor...');
    initializeSidebarHoverEffects();
    initSmoothScroll();
    
    // Start notification updates
    setInterval(updateNotificationBadges, 30000); // 30 saniyede bir kontrol
    
    // Performance monitoring
    let mouseTestCount = 0;
    document.addEventListener('mousemove', function(e) {
      mouseTestCount++;
      if (mouseTestCount % 200 === 0) {
        //console.log(`🖱️ Mouse performansı: (${e.clientX}, ${e.clientY}) - ${mouseTestCount} hareket`);
      }
    });
  });
  
  // Sayfa yüklendiğinde de çalıştır (backup)
  window.addEventListener('load', function() {
    //console.log('🚀 Sayfa tamamen yüklendi - Backup sistem çalıştırılıyor...');
    setTimeout(() => {
      initializeSidebarHoverEffects();
      initSmoothScroll();
    }, 100);
  });
  
  // Keyboard shortcuts
  document.addEventListener('keydown', function(e) {
    // Ctrl + B: Toggle sidebar
    if (e.ctrlKey && e.key === 'b') {
      e.preventDefault();
      if (window.innerWidth >= 768) {
        toggleSidebarCollapse();
      } else {
        toggleSidebar();
      }
      //console.log('⌨️ Sidebar klavye kısayolu kullanıldı');
    }
    
    // Ctrl + H: Hover test
    if (e.ctrlKey && e.key === 'h') {
      e.preventDefault();
      //console.log('🔥 Hover test başlatıldı!');
      const testLink = document.querySelector('.sidebar-link');
      if (testLink) {
        testLink.style.border = '2px solid red';
        testLink.dispatchEvent(new Event('mouseenter'));
        setTimeout(() => {
          testLink.dispatchEvent(new Event('mouseleave'));
          testLink.style.border = '';
        }, 2000);
      }
    }
  });
  
  // Focus management for accessibility
  function manageFocus() {
    const focusableElements = sidebar?.querySelectorAll('a, button, [tabindex]:not([tabindex="-1"])');
    if (focusableElements) {
      focusableElements.forEach((el, index) => {
        el.addEventListener('keydown', function(e) {
          if (e.key === 'ArrowDown') {
            e.preventDefault();
            const nextIndex = (index + 1) % focusableElements.length;
            focusableElements[nextIndex].focus();
          } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            const prevIndex = (index - 1 + focusableElements.length) % focusableElements.length;
            focusableElements[prevIndex].focus();
          }
        });
      });
      //console.log('♿ Accessibility focus management aktif');
    }
  }
  
  // Initialize focus management
  setTimeout(manageFocus, 500);
  
<<<<<<< HEAD
  console.log('✨ Modern Forum Sidebar System tamamen yüklendi!');
  console.log('📝 Klavye kısayolları: Ctrl+B (sidebar), Ctrl+H (hover test)');
  console.log('🎯 Özellikler: Scroll, Hover, Focus, Notifications, Accessibility');
=======
  //console.log('✨ Modern Forum Sidebar System tamamen yüklendi!');
  //console.log('📝 Klavye kısayolları: Ctrl+B (sidebar), Ctrl+H (hover test)');
  //console.log('🎯 Özellikler: Scroll, Hover, Focus, Notifications, Accessibility');
>>>>>>> 126a075c444e24ac1b3c5c45592173055d8a2424
</script>